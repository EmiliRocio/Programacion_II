import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.time.LocalDateTime;

abstract class Boleto {
    protected int numero;
        protected LocalDateTime fechaEmision;
            
                public Boleto(int numero) {
                        this.numero = numero;
                                this.fechaEmision = LocalDateTime.now();
                                    }
                                        
                                            public abstract double getPrecio();
                                                
                                                    @Override
                                                        public String toString() {
                                                                return String.format("Boleto #%d%nTipo: %s%nPrecio: %.1f Bs", 
                                                                                           numero, getClass().getSimpleName(), getPrecio());
                                                                                               }
                                                                                               }

                                                                                               class Palco extends Boleto {
                                                                                                   public Palco(int numero) {
                                                                                                           super(numero);
                                                                                                               }
                                                                                                                   
                                                                                                                       @Override
                                                                                                                           public double getPrecio() {
                                                                                                                                   return 100.0;
                                                                                                                                       }
                                                                                                                                           
                                                                                                                                               @Override
                                                                                                                                                   public String toString() {
                                                                                                                                                           return super.toString() + "\nUbicación: Palco VIP\nBeneficios: Acceso exclusivo";
                                                                                                                                                               }
                                                                                                                                                               }

                                                                                                                                                               class Platea extends Boleto {
                                                                                                                                                                   private int diasAnticipacion;
                                                                                                                                                                       
                                                                                                                                                                           public Platea(int numero, int diasAnticipacion) {
                                                                                                                                                                                   super(numero);
                                                                                                                                                                                           this.diasAnticipacion = diasAnticipacion;
                                                                                                                                                                                               }
                                                                                                                                                                                                   
                                                                                                                                                                                                       @Override
                                                                                                                                                                                                           public double getPrecio() {
                                                                                                                                                                                                                   return diasAnticipacion >= 10 ? 50.0 : 60.0;
                                                                                                                                                                                                                       }
                                                                                                                                                                                                                           
                                                                                                                                                                                                                               @Override
                                                                                                                                                                                                                                   public String toString() {
                                                                                                                                                                                                                                           return super.toString() + String.format("\nDías anticipación: %d%nDescuento: %s", 
                                                                                                                                                                                                                                                                                         diasAnticipacion, 
                                                                                                                                                                                                                                                                                                                                       diasAnticipacion >= 10 ? "Sí" : "No");
                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                           }

                                                                                                                                                                                                                                                                                                                                           class Galeria extends Boleto {
                                                                                                                                                                                                                                                                                                                                               private int diasAnticipacion;
                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                       public Galeria(int numero, int diasAnticipacion) {
                                                                                                                                                                                                                                                                                                                                                               super(numero);
                                                                                                                                                                                                                                                                                                                                                                       this.diasAnticipacion = diasAnticipacion;
                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                   @Override
                                                                                                                                                                                                                                                                                                                                                                                       public double getPrecio() {
                                                                                                                                                                                                                                                                                                                                                                                               return diasAnticipacion >= 10 ? 25.0 : 30.0;
                                                                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                           @Override
                                                                                                                                                                                                                                                                                                                                                                                                               public String toString() {
                                                                                                                                                                                                                                                                                                                                                                                                                       return super.toString() + String.format("\nDías anticipación: %d%nDescuento 50%% sobre platea", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     diasAnticipacion);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                         public class TeatroApp extends JFrame {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             private JComboBox<String> tipoCombo;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 private JTextField numeroField, diasField;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     private JTextArea resultadoArea;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         private JLabel diasLabel;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 public TeatroApp() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         setTitle("Sistema de Boletos - Teatro Municipal");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 setSize(500, 400);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 setLocationRelativeTo(null);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 initUI();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             private void initUI() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     JPanel panel = new JPanel(new GridBagLayout());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             GridBagConstraints gbc = new GridBagConstraints();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     gbc.insets = new Insets(5, 5, 5, 5);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.anchor = GridBagConstraints.WEST;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     gbc.fill = GridBagConstraints.HORIZONTAL;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // Tipo de boleto
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.gridx = 0; gbc.gridy = 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     panel.add(new JLabel("Tipo de Boleto:"), gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     gbc.gridx = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             tipoCombo = new JComboBox<>(new String[]{"Palco", "Platea", "Galeria"});
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     tipoCombo.addActionListener(e -> updateFields());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             panel.add(tipoCombo, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // Número de boleto
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     gbc.gridx = 0; gbc.gridy = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             panel.add(new JLabel("Número:"), gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.gridx = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     numeroField = new JTextField(10);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             panel.add(numeroField, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // Días de anticipación (inicialmente oculto)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     diasLabel = new JLabel("Días anticipación:");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.gridx = 0; gbc.gridy = 2;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     panel.add(diasLabel, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     gbc.gridx = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             diasField = new JTextField(10);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     panel.add(diasField, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             diasLabel.setVisible(false);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     diasField.setVisible(false);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // Botón de generación
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.gridx = 0; gbc.gridy = 3; gbc.gridwidth = 2;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     JButton generarBtn = new JButton("Generar Boleto");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             generarBtn.addActionListener(e -> generarBoleto());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     panel.add(generarBtn, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // Área de resultados
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             gbc.gridx = 0; gbc.gridy = 4; gbc.gridwidth = 2;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     resultadoArea = new JTextArea(10, 30);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             resultadoArea.setEditable(false);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     panel.add(new JScrollPane(resultadoArea), gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     add(panel);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 private void updateFields() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         String tipo = (String)tipoCombo.getSelectedItem();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 boolean showDias = !tipo.equals("Palco");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 diasLabel.setVisible(showDias);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         diasField.setVisible(showDias);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     private void generarBoleto() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             try {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         String tipo = (String)tipoCombo.getSelectedItem();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     int numero = Integer.parseInt(numeroField.getText());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Boleto boleto;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     if (tipo.equals("Palco")) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     boleto = new Palco(numero);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 int dias = Integer.parseInt(diasField.getText());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 if (tipo.equals("Platea")) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     boleto = new Platea(numero, dias);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         boleto = new Galeria(numero, dias);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             resultadoArea.setText(boleto.toString());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     } catch (NumberFormatException ex) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 JOptionPane.showMessageDialog(this, "Ingrese valores válidos", "Error", JOptionPane.ERROR_MESSAGE);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     public static void main(String[] args) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             SwingUtilities.invokeLater(() -> {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         new TeatroApp().setVisible(true);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }